{% load static %}

{% block content %}
    {% if request.user.is_authenticated %}
        <script src="{% static 'js/trixie.js' %}"></script>
    {% endif %}

    <div data-controller="trixie" data-reflex-root="article">
        <nav data-target="trixie.nav" hidden>
            <button data-reflex="Trixie#toggle_edit_mode">
                {% if editing %}
                    Save
                {% else %}
                    Edit
                {% endif %}
            </button>
            <button data-reflex="Trixie#metrics">Metrics</button>
            <button data-reflex="Trixie#new_page">New</button>
            <button data-reflex="Trixie#copy">Copy</button>
            <button data-reflex="Trixie#delete">Delete</button>
        </nav>

        {% if editing %}
            {{ form }}
        {% else %}
            <article>
                {{ body_content }}
            </article>
        {% endif %}
    </div>
{% endblock %}
